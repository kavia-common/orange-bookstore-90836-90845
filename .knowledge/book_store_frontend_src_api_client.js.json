{"is_source_file": true, "format": "JavaScript", "description": "This file defines a JavaScript module providing a mock API client for a bookstore frontend, including functions to fetch books and metadata, manage a cart, and submit orders, with in-memory data and simulated delays/errors.", "external_files": ["../data/books"], "external_methods": ["setTimeout"], "published": ["apiClient", "ApiError"], "classes": [{"name": "ApiError", "description": "Custom error class for standardized API error handling, including status code and optional payload."}], "methods": [{"name": "delay", "description": "Utility function to create a Promise that resolves after a specified number of milliseconds."}, {"name": "applyFiltersAndSort(books, { genre = [], author = [], sort = \"\" } = {})", "description": "Applies genre and author filters and sorting options to an array of books.", "scope": "", "scopeKind": ""}, {"name": "addToCart(bookId, qty = 1)", "scope": "apiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "clearCart()", "scope": "apiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "constructor(message, status = 500, payload = null)", "scope": "ApiError", "scopeKind": "class", "description": "unavailable"}, {"name": "getBooks(params = {})", "scope": "apiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "getMeta()", "scope": "apiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "maybeFail(prob = 0)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "removeFromCart(bookId)", "scope": "apiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "submitOrder(order)", "scope": "apiClient", "scopeKind": "class", "description": "unavailable"}, {"name": "updateCartItem(bookId, qty)", "scope": "apiClient", "scopeKind": "class", "description": "unavailable"}], "calls": ["setTimeout", "Math.random", "localBooks.find", "localBooks.map"], "search-terms": ["apiClient", "Mock API", "In-memory cart", "Bookstore frontend", "applyFiltersAndSort", "ApiError", "getBooks", "getMeta", "addToCart", "updateCartItem", "removeFromCart", "clearCart", "submitOrder"], "state": 2, "file_id": 25, "knowledge_revision": 66, "git_revision": "", "revision_history": [{"58": ""}, {"66": ""}], "ctags": [{"_type": "tag", "name": "ApiError", "path": "/home/kavia/workspace/code-generation/orange-bookstore-90836-90845/book_store_frontend/src/api/client.js", "pattern": "/^export class ApiError extends Error {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "addToCart", "path": "/home/kavia/workspace/code-generation/orange-bookstore-90836-90845/book_store_frontend/src/api/client.js", "pattern": "/^  async addToCart(bookId, qty = 1) {$/", "language": "JavaScript", "kind": "method", "signature": "(bookId, qty = 1)", "scope": "apiClient", "scopeKind": "class"}, {"_type": "tag", "name": "apiClient", "path": "/home/kavia/workspace/code-generation/orange-bookstore-90836-90845/book_store_frontend/src/api/client.js", "pattern": "/^export const apiClient = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "applyFiltersAndSort", "path": "/home/kavia/workspace/code-generation/orange-bookstore-90836-90845/book_store_frontend/src/api/client.js", "pattern": "/^function applyFiltersAndSort(books, { genre = [], author = [], sort = \"\" } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(books, { genre = [], author = [], sort = \"\" } = {})"}, {"_type": "tag", "name": "clearCart", "path": "/home/kavia/workspace/code-generation/orange-bookstore-90836-90845/book_store_frontend/src/api/client.js", "pattern": "/^  async clearCart() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "apiClient", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/orange-bookstore-90836-90845/book_store_frontend/src/api/client.js", "pattern": "/^  constructor(message, status = 500, payload = null) {$/", "language": "JavaScript", "kind": "method", "signature": "(message, status = 500, payload = null)", "scope": "ApiError", "scopeKind": "class"}, {"_type": "tag", "name": "delay", "path": "/home/kavia/workspace/code-generation/orange-bookstore-90836-90845/book_store_frontend/src/api/client.js", "pattern": "/^const delay = (ms) => new Promise((res) => setTimeout(res, ms));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getBooks", "path": "/home/kavia/workspace/code-generation/orange-bookstore-90836-90845/book_store_frontend/src/api/client.js", "pattern": "/^  async getBooks(params = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "(params = {})", "scope": "apiClient", "scopeKind": "class"}, {"_type": "tag", "name": "getMeta", "path": "/home/kavia/workspace/code-generation/orange-bookstore-90836-90845/book_store_frontend/src/api/client.js", "pattern": "/^  async getMeta() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "apiClient", "scopeKind": "class"}, {"_type": "tag", "name": "inMemoryCart", "path": "/home/kavia/workspace/code-generation/orange-bookstore-90836-90845/book_store_frontend/src/api/client.js", "pattern": "/^let inMemoryCart = {};$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "maybeFail", "path": "/home/kavia/workspace/code-generation/orange-bookstore-90836-90845/book_store_frontend/src/api/client.js", "pattern": "/^function maybeFail(prob = 0) {$/", "language": "JavaScript", "kind": "function", "signature": "(prob = 0)"}, {"_type": "tag", "name": "removeFromCart", "path": "/home/kavia/workspace/code-generation/orange-bookstore-90836-90845/book_store_frontend/src/api/client.js", "pattern": "/^  async removeFromCart(bookId) {$/", "language": "JavaScript", "kind": "method", "signature": "(bookId)", "scope": "apiClient", "scopeKind": "class"}, {"_type": "tag", "name": "submitOrder", "path": "/home/kavia/workspace/code-generation/orange-bookstore-90836-90845/book_store_frontend/src/api/client.js", "pattern": "/^  async submitOrder(order) {$/", "language": "JavaScript", "kind": "method", "signature": "(order)", "scope": "apiClient", "scopeKind": "class"}, {"_type": "tag", "name": "updateCartItem", "path": "/home/kavia/workspace/code-generation/orange-bookstore-90836-90845/book_store_frontend/src/api/client.js", "pattern": "/^  async updateCartItem(bookId, qty) {$/", "language": "JavaScript", "kind": "method", "signature": "(bookId, qty)", "scope": "apiClient", "scopeKind": "class"}], "hash": "84724a8f49f37c0a68142c59c06fb7fd", "format-version": 4, "code-base-name": "book_store_frontend", "filename": "book_store_frontend/src/api/client.js", "fields": [{"name": "let inMemoryCart = {};", "scope": "", "scopeKind": "", "description": "unavailable"}]}